<!-- Boutons pour ouvrir modal -->
<div class="flex justify-center mt-10 space-x-4">
  <button (click)="openModal('register')"
          class="px-8 py-3 bg-blue-600 text-white font-semibold rounded-lg hover:bg-blue-700 transition duration-300">
    Créer un compte
  </button>
  <button (click)="openModal('login')"
          class="px-8 py-3 bg-gray-200 text-gray-700 font-semibold rounded-lg hover:bg-gray-300 transition duration-300">
    Se connecter
  </button>
</div>

<!-- Modal -->
<div *ngIf="isModalOpen" class="fixed inset-0 bg-black bg-opacity-50 flex justify-center items-center z-50">
  <div class="bg-white rounded-2xl w-full max-w-lg p-8 relative">

    <!-- Bouton fermer -->
    <button (click)="closeModal()"
            class="absolute top-4 right-4 text-gray-500 hover:text-gray-800 text-xl font-bold">&times;</button>

    <!-- Titre dynamique -->
    <h2 class="text-2xl font-bold text-blue-700 mb-6 text-center">
      {{ modalType === 'register' ? 'Créer un compte' : 'Se connecter' }}
    </h2>

    <!-- Formulaire Register -->
    <form *ngIf="modalType === 'register'" [formGroup]="registerForm" (ngSubmit)="onRegisterSubmit()" class="space-y-4">

      <div class="flex flex-col md:flex-row md:space-x-4">
        <input formControlName="nom" type="text" placeholder="Nom"
               class="flex-1 px-4 py-3 border rounded-lg focus:ring-2 focus:ring-blue-400">
        <input formControlName="prenom" type="text" placeholder="Prénom"
               class="flex-1 mt-4 md:mt-0 px-4 py-3 border rounded-lg focus:ring-2 focus:ring-blue-400">
      </div>

      <input formControlName="email" type="email" placeholder="Email"
             class="w-full px-4 py-3 border rounded-lg focus:ring-2 focus:ring-blue-400">
      <input formControlName="telephone" type="tel" placeholder="Téléphone"
             class="w-full px-4 py-3 border rounded-lg focus:ring-2 focus:ring-blue-400">
      <input formControlName="adresse" type="text" placeholder="Adresse"
             class="w-full px-4 py-3 border rounded-lg focus:ring-2 focus:ring-blue-400">
      <input formControlName="dateNaissance" type="date"
             class="w-full px-4 py-3 border rounded-lg focus:ring-2 focus:ring-blue-400">

      <div class="flex flex-col md:flex-row md:space-x-4">
        <input formControlName="motDePasse" type="password" placeholder="Mot de passe"
               class="flex-1 px-4 py-3 border rounded-lg focus:ring-2 focus:ring-blue-400">
        <input formControlName="confirmMotDePasse" type="password" placeholder="Confirmer mot de passe"
               class="flex-1 mt-4 md:mt-0 px-4 py-3 border rounded-lg focus:ring-2 focus:ring-blue-400">
      </div>

      <button type="submit"
              class="w-full bg-blue-600 text-white py-3 rounded-lg font-semibold hover:bg-blue-700 transition duration-300">
        S’inscrire
      </button>

    </form>

    <!-- Formulaire Login -->
    <form *ngIf="modalType === 'login'" [formGroup]="loginForm" (ngSubmit)="onLoginSubmit()" class="space-y-4">
      <input formControlName="email" type="email" placeholder="Email"
             class="w-full px-4 py-3 border rounded-lg focus:ring-2 focus:ring-blue-400">
      <input formControlName="motDePasse" type="password" placeholder="Mot de passe"
             class="w-full px-4 py-3 border rounded-lg focus:ring-2 focus:ring-blue-400">
      <button type="submit"
              class="w-full bg-blue-600 text-white py-3 rounded-lg font-semibold hover:bg-blue-700 transition duration-300">
        Se connecter
      </button>
    </form>

    <!-- Lien pour switch -->
    <p class="mt-4 text-gray-500 text-center">
      {{ modalType === 'register' ? 'Déjà un compte ?' : 'Pas encore de compte ?' }}
      <span class="text-blue-600 hover:underline cursor-pointer"
            (click)="switchModal()">
        {{ modalType === 'register' ? 'Se connecter' : 'S’inscrire' }}
      </span>
    </p>

  </div>
</div>
