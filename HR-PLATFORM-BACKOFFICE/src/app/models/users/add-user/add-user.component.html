<div class="container mt-5">
  <div class="add-user-card shadow-sm p-4">

    <!-- Header -->
    <div class="card-header mb-4 text-center">
      <h3><i class="fas fa-user-plus me-2"></i>Ajouter un utilisateur</h3>
    </div>

    <form (ngSubmit)="onSubmit()" class="form-modern">

      <!-- Avatar Selection -->
      <div class="mb-4 text-center">
        <label class="form-label fw-bold d-block mb-2">Choisir un avatar</label>
        <div class="avatar-selection justify-content-center">
          <img *ngFor="let img of avatarOptions"
               [src]="img"
               [class.selected]="user.avatar === img"
               (click)="user.avatar = img"
               class="avatar-img shadow-sm">
        </div>
      </div>

      <!-- Firstname & Lastname -->
      <div class="row mb-3">
        <div class="col">
          <label for="firstname" class="form-label">Prénom *</label>
          <input type="text" id="firstname" [(ngModel)]="user.firstname" name="firstname" required
                 class="form-control">
        </div>
        <div class="col">
          <label for="lastname" class="form-label">Nom *</label>
          <input type="text" id="lastname" [(ngModel)]="user.lastname" name="lastname" required
                 class="form-control">
        </div>
      </div>

      <!-- Email -->
      <div class="mb-3">
        <label for="email" class="form-label">Email *</label>
        <input type="email" id="email" [(ngModel)]="user.email" name="email" required class="form-control">
      </div>

      <!-- Role -->
      <div class="mb-3">
        <label for="role" class="form-label">Rôle *</label>
        <select id="role" [(ngModel)]="user.role" name="role" required class="form-select">
          <option value="" disabled selected>-- Sélectionnez un rôle --</option>
          <option value="Admin">Admin</option>
          <option value="User">User</option>
          <option value="Manager">Manager</option>
        </select>
      </div>

      <!-- Date of Birth -->
      <div class="mb-3">
        <label for="dob" class="form-label">Date de naissance *</label>
        <input type="date" id="dob" [(ngModel)]="user.dateOfBirth" name="dateOfBirth"
               class="form-control" required>
      </div>

      <!-- Password -->
      <div class="mb-4">
        <label for="password" class="form-label">Mot de passe *</label>
        <input type="password" id="password" [(ngModel)]="user.password" name="password"
               class="form-control" required placeholder="Mot de passe">
      </div>

      <!-- Buttons -->
      <div class="d-flex justify-content-end gap-2">
        <button type="button" class="btn btn-secondary btn-animated" (click)="router.navigate(['/users/list'])">
          Annuler
        </button>
        <button type="submit" class="btn btn-primary btn-animated">
          Ajouter
        </button>
      </div>
    </form>
  </div>
</div>
