<div class="container mt-4">
  <div class="card shadow-sm border-0">
    <!-- Header -->
    <div class="d-flex justify-content-between align-items-center mb-4">
      <h3 class="fw-bold text-primary">
        <i class="fas fa-users me-2"></i>Liste des Utilisateurs
      </h3>
      <button class="btn btn-gradient" (click)="onAddUser()">
        <i class="fas fa-user-plus me-2"></i>Ajouter un utilisateur
      </button>
    </div>
    <div class="card-body bg-light">
      <div class="table-responsive">
        <table class="table table-hover align-middle mb-0">
          <thead class="custom-header text-center">
          <tr>
            <th><i class="fas fa-image me-1"></i> Avatar</th>
            <th><i class="fas fa-id-badge me-1"></i> ID</th>
            <th><i class="fas fa-user me-1"></i> Nom</th>
            <th><i class="fas fa-envelope me-1"></i> Email</th>
            <th><i class="fas fa-user-tag me-1"></i> RÃ´les</th>
            <th><i class="fas fa-cogs me-1"></i> Actions</th>
          </tr>
          </thead>

          <tbody>
          <tr *ngFor="let user of users" class="text-center bg-white shadow-sm rounded user-row">
            <td>
              <img
                [src]="user.avatar"
                alt="Avatar"
                class="rounded-circle shadow-sm"
                width="60"
                height="60"
              />
            </td>
            <td><strong>{{ user.id }}</strong></td>
            <!-- Changement ici : Nom complet -->
            <td>{{ user.firstname }} {{ user.lastname }}</td>
            <td>{{ user.email }}</td>
            <td>
              <span *ngFor="let role of user.roles" class="badge bg-primary me-1">{{ role }}</span>
            </td>
            <td>
              <button
                class="btn btn-sm btn-outline-info me-2"
                title="Voir les dÃ©tails"
                [routerLink]="['/users/details', user.id]"
              >
                <i class="fas fa-eye"></i>
              </button>
              <button
                class="btn btn-sm btn-outline-danger"
                title="Supprimer"
                (click)="deleteUser(user.id!)"
              >
                <i class="fas fa-trash-alt"></i>
              </button>

            </td>
          </tr>
          </tbody>
        </table>
      </div>
    </div>
  </div>
</div>
